{"ast":null,"code":"import Item1 from \"../../images/set-top.jpg\";\nimport Item2 from \"../../images/sunscreen-top.jpg\";\nimport Item3 from \"../../images/wipes-top.jpg\";\nimport { ADD_TO_CART, REMOVE_ITEM, ADD_QUANTITY, SUB_QUANTITY } from \"../actions/action-types/cart-actions\";\nconst initState = {\n  items: [{\n    id: 1,\n    title: \"standard\",\n    price: 125000,\n    img: Item1\n  }, {\n    id: 2,\n    title: \"premium\",\n    price: 150000,\n    img: Item2\n  }, {\n    id: 3,\n    title: \"vip\",\n    price: 180000,\n    img: Item3\n  }],\n  addedItems: [],\n  total: 0\n};\n\nconst cartReducer = (state = initState, action) => {\n  if (action.type === ADD_TO_CART) {\n    let addedItem = state.items.find(item => item.id === action.id);\n    let existed_item = state.addedItems.find(item => action.id === item.id);\n\n    if (existed_item) {\n      addedItem.quantity += 1;\n      return { ...state,\n        total: state.total + addedItem.price\n      };\n    } else {\n      addedItem.quantity = 1;\n      let newTotal = state.total + addedItem.price;\n      return { ...state,\n        addedItems: [...state.addedItems, addedItem],\n        total: newTotal\n      };\n    }\n  }\n\n  if (action.type === REMOVE_ITEM) {\n    let itemToRemove = state.addedItems.find(item => action.id === item.id);\n    let new_items = state.addedItems.filter(item => action.id !== item.id);\n    let newTotal = state.total - itemToRemove.price * itemToRemove.quantity;\n    console.log(itemToRemove);\n    return { ...state,\n      addedItems: new_items,\n      total: newTotal\n    };\n  }\n\n  if (action.type === ADD_QUANTITY) {\n    let addedItem = state.items.find(item => item.id === action.id);\n    addedItem.quantity += 1;\n    let newTotal = state.total + addedItem.price;\n    return { ...state,\n      total: newTotal\n    };\n  }\n\n  if (action.type === SUB_QUANTITY) {\n    let addedItem = state.items.find(item => item.id === action.id);\n\n    if (addedItem.quantity === 1) {\n      let new_items = state.addedItems.filter(item => item.id !== action.id);\n      let newTotal = state.total - addedItem.price;\n      return { ...state,\n        addedItems: new_items,\n        total: newTotal\n      };\n    } else {\n      addedItem.quantity -= 1;\n      let newTotal = state.total - addedItem.price;\n      return { ...state,\n        total: newTotal\n      };\n    }\n  } else {\n    return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["/Users/aizhansapina/Desktop/Diploma-front/src/store/reducers/cartReducer.js"],"names":["Item1","Item2","Item3","ADD_TO_CART","REMOVE_ITEM","ADD_QUANTITY","SUB_QUANTITY","initState","items","id","title","price","img","addedItems","total","cartReducer","state","action","type","addedItem","find","item","existed_item","quantity","newTotal","itemToRemove","new_items","filter","console","log"],"mappings":"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","sourcesContent":["import Item1 from \"../../images/set-top.jpg\";\nimport Item2 from \"../../images/sunscreen-top.jpg\";\nimport Item3 from \"../../images/wipes-top.jpg\";\n\nimport {\n  ADD_TO_CART,\n  REMOVE_ITEM,\n  ADD_QUANTITY,\n  SUB_QUANTITY\n} from \"../actions/action-types/cart-actions\";\n\nconst initState = {\n  items: [\n    {\n      id: 1,\n      title: \"standard\",\n      price: 125000,\n      img: Item1\n    },\n    {\n      id: 2,\n      title: \"premium\",\n      price: 150000,\n      img: Item2\n    },\n    {\n      id: 3,\n      title: \"vip\",\n      price: 180000,\n      img: Item3\n    }\n  ],\n  addedItems: [],\n  total: 0\n};\n\nconst cartReducer = (state = initState, action) => {\n  if (action.type === ADD_TO_CART) {\n    let addedItem = state.items.find(item => item.id === action.id);\n\n    let existed_item = state.addedItems.find(item => action.id === item.id);\n    if (existed_item) {\n      addedItem.quantity += 1;\n      return {\n        ...state,\n        total: state.total + addedItem.price\n      };\n    } else {\n      addedItem.quantity = 1;\n\n      let newTotal = state.total + addedItem.price;\n\n      return {\n        ...state,\n        addedItems: [...state.addedItems, addedItem],\n        total: newTotal\n      };\n    }\n  }\n  if (action.type === REMOVE_ITEM) {\n    let itemToRemove = state.addedItems.find(item => action.id === item.id);\n    let new_items = state.addedItems.filter(item => action.id !== item.id);\n\n    let newTotal = state.total - itemToRemove.price * itemToRemove.quantity;\n    console.log(itemToRemove);\n    return {\n      ...state,\n      addedItems: new_items,\n      total: newTotal\n    };\n  }\n\n  if (action.type === ADD_QUANTITY) {\n    let addedItem = state.items.find(item => item.id === action.id);\n    addedItem.quantity += 1;\n    let newTotal = state.total + addedItem.price;\n    return {\n      ...state,\n      total: newTotal\n    };\n  }\n  if (action.type === SUB_QUANTITY) {\n    let addedItem = state.items.find(item => item.id === action.id);\n\n    if (addedItem.quantity === 1) {\n      let new_items = state.addedItems.filter(item => item.id !== action.id);\n      let newTotal = state.total - addedItem.price;\n      return {\n        ...state,\n        addedItems: new_items,\n        total: newTotal\n      };\n    } else {\n      addedItem.quantity -= 1;\n      let newTotal = state.total - addedItem.price;\n      return {\n        ...state,\n        total: newTotal\n      };\n    }\n  } else {\n    return state;\n  }\n};\nexport default cartReducer;\n"]},"metadata":{},"sourceType":"module"}