{"ast":null,"code":"import _toConsumableArray from\"/Users/aizhansapina/Desktop/Diploma-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/aizhansapina/Desktop/Diploma-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import Item1 from\"../../images/set-top.jpg\";import Item2 from\"../../images/sunscreen-top.jpg\";import Item3 from\"../../images/wipes-top.jpg\";import{ADD_TO_CART,REMOVE_ITEM,ADD_QUANTITY,SUB_QUANTITY}from\"../actions/action-types/cart-actions\";var initState={items:[{id:1,title:\"standard\",price:125000,img:Item1},{id:2,title:\"premium\",price:150000,img:Item2},{id:3,title:\"vip\",price:180000,img:Item3}],addedItems:[],total:0};var cartReducer=function cartReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initState;var action=arguments.length>1?arguments[1]:undefined;if(action.type===ADD_TO_CART){var addedItem=state.items.find(function(item){return item.id===action.id;});var existed_item=state.addedItems.find(function(item){return action.id===item.id;});if(existed_item){addedItem.quantity+=1;return _objectSpread({},state,{total:state.total+addedItem.price});}else{addedItem.quantity=1;var newTotal=state.total+addedItem.price;return _objectSpread({},state,{addedItems:[].concat(_toConsumableArray(state.addedItems),[addedItem]),total:newTotal});}}if(action.type===REMOVE_ITEM){var itemToRemove=state.addedItems.find(function(item){return action.id===item.id;});var new_items=state.addedItems.filter(function(item){return action.id!==item.id;});var _newTotal=state.total-itemToRemove.price*itemToRemove.quantity;console.log(itemToRemove);return _objectSpread({},state,{addedItems:new_items,total:_newTotal});}if(action.type===ADD_QUANTITY){var _addedItem=state.items.find(function(item){return item.id===action.id;});_addedItem.quantity+=1;var _newTotal2=state.total+_addedItem.price;return _objectSpread({},state,{total:_newTotal2});}if(action.type===SUB_QUANTITY){var _addedItem2=state.items.find(function(item){return item.id===action.id;});if(_addedItem2.quantity===1){var _new_items=state.addedItems.filter(function(item){return item.id!==action.id;});var _newTotal3=state.total-_addedItem2.price;return _objectSpread({},state,{addedItems:_new_items,total:_newTotal3});}else{_addedItem2.quantity-=1;var _newTotal4=state.total-_addedItem2.price;return _objectSpread({},state,{total:_newTotal4});}}else{return state;}};export default cartReducer;","map":{"version":3,"sources":["/Users/aizhansapina/Desktop/Diploma-front/src/store/reducers/cartReducer.js"],"names":["Item1","Item2","Item3","ADD_TO_CART","REMOVE_ITEM","ADD_QUANTITY","SUB_QUANTITY","initState","items","id","title","price","img","addedItems","total","cartReducer","state","action","type","addedItem","find","item","existed_item","quantity","newTotal","itemToRemove","new_items","filter","console","log"],"mappings":"uUAAA,MAAOA,CAAAA,KAAP,KAAkB,0BAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,gCAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,4BAAlB,CAEA,OACEC,WADF,CAEEC,WAFF,CAGEC,YAHF,CAIEC,YAJF,KAKO,sCALP,CAOA,GAAMC,CAAAA,SAAS,CAAG,CAChBC,KAAK,CAAE,CACL,CACEC,EAAE,CAAE,CADN,CAEEC,KAAK,CAAE,UAFT,CAGEC,KAAK,CAAE,MAHT,CAIEC,GAAG,CAAEZ,KAJP,CADK,CAOL,CACES,EAAE,CAAE,CADN,CAEEC,KAAK,CAAE,SAFT,CAGEC,KAAK,CAAE,MAHT,CAIEC,GAAG,CAAEX,KAJP,CAPK,CAaL,CACEQ,EAAE,CAAE,CADN,CAEEC,KAAK,CAAE,KAFT,CAGEC,KAAK,CAAE,MAHT,CAIEC,GAAG,CAAEV,KAJP,CAbK,CADS,CAqBhBW,UAAU,CAAE,EArBI,CAsBhBC,KAAK,CAAE,CAtBS,CAAlB,CAyBA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAA+B,IAA9BC,CAAAA,KAA8B,2DAAtBT,SAAsB,IAAXU,CAAAA,MAAW,2CACjD,GAAIA,MAAM,CAACC,IAAP,GAAgBf,WAApB,CAAiC,CAC/B,GAAIgB,CAAAA,SAAS,CAAGH,KAAK,CAACR,KAAN,CAAYY,IAAZ,CAAiB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACZ,EAAL,GAAYQ,MAAM,CAACR,EAAvB,EAArB,CAAhB,CAEA,GAAIa,CAAAA,YAAY,CAAGN,KAAK,CAACH,UAAN,CAAiBO,IAAjB,CAAsB,SAAAC,IAAI,QAAIJ,CAAAA,MAAM,CAACR,EAAP,GAAcY,IAAI,CAACZ,EAAvB,EAA1B,CAAnB,CACA,GAAIa,YAAJ,CAAkB,CAChBH,SAAS,CAACI,QAAV,EAAsB,CAAtB,CACA,wBACKP,KADL,EAEEF,KAAK,CAAEE,KAAK,CAACF,KAAN,CAAcK,SAAS,CAACR,KAFjC,GAID,CAND,IAMO,CACLQ,SAAS,CAACI,QAAV,CAAqB,CAArB,CAEA,GAAIC,CAAAA,QAAQ,CAAGR,KAAK,CAACF,KAAN,CAAcK,SAAS,CAACR,KAAvC,CAEA,wBACKK,KADL,EAEEH,UAAU,8BAAMG,KAAK,CAACH,UAAZ,GAAwBM,SAAxB,EAFZ,CAGEL,KAAK,CAAEU,QAHT,GAKD,CACF,CACD,GAAIP,MAAM,CAACC,IAAP,GAAgBd,WAApB,CAAiC,CAC/B,GAAIqB,CAAAA,YAAY,CAAGT,KAAK,CAACH,UAAN,CAAiBO,IAAjB,CAAsB,SAAAC,IAAI,QAAIJ,CAAAA,MAAM,CAACR,EAAP,GAAcY,IAAI,CAACZ,EAAvB,EAA1B,CAAnB,CACA,GAAIiB,CAAAA,SAAS,CAAGV,KAAK,CAACH,UAAN,CAAiBc,MAAjB,CAAwB,SAAAN,IAAI,QAAIJ,CAAAA,MAAM,CAACR,EAAP,GAAcY,IAAI,CAACZ,EAAvB,EAA5B,CAAhB,CAEA,GAAIe,CAAAA,SAAQ,CAAGR,KAAK,CAACF,KAAN,CAAcW,YAAY,CAACd,KAAb,CAAqBc,YAAY,CAACF,QAA/D,CACAK,OAAO,CAACC,GAAR,CAAYJ,YAAZ,EACA,wBACKT,KADL,EAEEH,UAAU,CAAEa,SAFd,CAGEZ,KAAK,CAAEU,SAHT,GAKD,CAED,GAAIP,MAAM,CAACC,IAAP,GAAgBb,YAApB,CAAkC,CAChC,GAAIc,CAAAA,UAAS,CAAGH,KAAK,CAACR,KAAN,CAAYY,IAAZ,CAAiB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACZ,EAAL,GAAYQ,MAAM,CAACR,EAAvB,EAArB,CAAhB,CACAU,UAAS,CAACI,QAAV,EAAsB,CAAtB,CACA,GAAIC,CAAAA,UAAQ,CAAGR,KAAK,CAACF,KAAN,CAAcK,UAAS,CAACR,KAAvC,CACA,wBACKK,KADL,EAEEF,KAAK,CAAEU,UAFT,GAID,CACD,GAAIP,MAAM,CAACC,IAAP,GAAgBZ,YAApB,CAAkC,CAChC,GAAIa,CAAAA,WAAS,CAAGH,KAAK,CAACR,KAAN,CAAYY,IAAZ,CAAiB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACZ,EAAL,GAAYQ,MAAM,CAACR,EAAvB,EAArB,CAAhB,CAEA,GAAIU,WAAS,CAACI,QAAV,GAAuB,CAA3B,CAA8B,CAC5B,GAAIG,CAAAA,UAAS,CAAGV,KAAK,CAACH,UAAN,CAAiBc,MAAjB,CAAwB,SAAAN,IAAI,QAAIA,CAAAA,IAAI,CAACZ,EAAL,GAAYQ,MAAM,CAACR,EAAvB,EAA5B,CAAhB,CACA,GAAIe,CAAAA,UAAQ,CAAGR,KAAK,CAACF,KAAN,CAAcK,WAAS,CAACR,KAAvC,CACA,wBACKK,KADL,EAEEH,UAAU,CAAEa,UAFd,CAGEZ,KAAK,CAAEU,UAHT,GAKD,CARD,IAQO,CACLL,WAAS,CAACI,QAAV,EAAsB,CAAtB,CACA,GAAIC,CAAAA,UAAQ,CAAGR,KAAK,CAACF,KAAN,CAAcK,WAAS,CAACR,KAAvC,CACA,wBACKK,KADL,EAEEF,KAAK,CAAEU,UAFT,GAID,CACF,CAnBD,IAmBO,CACL,MAAOR,CAAAA,KAAP,CACD,CACF,CAnED,CAoEA,cAAeD,CAAAA,WAAf","sourcesContent":["import Item1 from \"../../images/set-top.jpg\";\nimport Item2 from \"../../images/sunscreen-top.jpg\";\nimport Item3 from \"../../images/wipes-top.jpg\";\n\nimport {\n  ADD_TO_CART,\n  REMOVE_ITEM,\n  ADD_QUANTITY,\n  SUB_QUANTITY\n} from \"../actions/action-types/cart-actions\";\n\nconst initState = {\n  items: [\n    {\n      id: 1,\n      title: \"standard\",\n      price: 125000,\n      img: Item1\n    },\n    {\n      id: 2,\n      title: \"premium\",\n      price: 150000,\n      img: Item2\n    },\n    {\n      id: 3,\n      title: \"vip\",\n      price: 180000,\n      img: Item3\n    }\n  ],\n  addedItems: [],\n  total: 0\n};\n\nconst cartReducer = (state = initState, action) => {\n  if (action.type === ADD_TO_CART) {\n    let addedItem = state.items.find(item => item.id === action.id);\n\n    let existed_item = state.addedItems.find(item => action.id === item.id);\n    if (existed_item) {\n      addedItem.quantity += 1;\n      return {\n        ...state,\n        total: state.total + addedItem.price\n      };\n    } else {\n      addedItem.quantity = 1;\n\n      let newTotal = state.total + addedItem.price;\n\n      return {\n        ...state,\n        addedItems: [...state.addedItems, addedItem],\n        total: newTotal\n      };\n    }\n  }\n  if (action.type === REMOVE_ITEM) {\n    let itemToRemove = state.addedItems.find(item => action.id === item.id);\n    let new_items = state.addedItems.filter(item => action.id !== item.id);\n\n    let newTotal = state.total - itemToRemove.price * itemToRemove.quantity;\n    console.log(itemToRemove);\n    return {\n      ...state,\n      addedItems: new_items,\n      total: newTotal\n    };\n  }\n\n  if (action.type === ADD_QUANTITY) {\n    let addedItem = state.items.find(item => item.id === action.id);\n    addedItem.quantity += 1;\n    let newTotal = state.total + addedItem.price;\n    return {\n      ...state,\n      total: newTotal\n    };\n  }\n  if (action.type === SUB_QUANTITY) {\n    let addedItem = state.items.find(item => item.id === action.id);\n\n    if (addedItem.quantity === 1) {\n      let new_items = state.addedItems.filter(item => item.id !== action.id);\n      let newTotal = state.total - addedItem.price;\n      return {\n        ...state,\n        addedItems: new_items,\n        total: newTotal\n      };\n    } else {\n      addedItem.quantity -= 1;\n      let newTotal = state.total - addedItem.price;\n      return {\n        ...state,\n        total: newTotal\n      };\n    }\n  } else {\n    return state;\n  }\n};\nexport default cartReducer;\n"]},"metadata":{},"sourceType":"module"}