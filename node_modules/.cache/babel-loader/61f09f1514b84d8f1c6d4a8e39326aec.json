{"ast":null,"code":"var _jsxFileName = \"/Users/aizhansapina/Desktop/Diploma-front/src/components/pages/auth/register/Register.js\";\nimport React, { Component } from \"react\";\nimport Input from \"../../../shared/input/Input\";\nimport { connect } from \"react-redux\";\nimport { authorize } from \"../../../../store/actions/authActions\";\nimport { register } from \"../../../../services/auth\";\nimport \"../../../shared/header/Header-shop.scss\";\nimport \"./Register.scss\";\n\nclass Register extends Component {\n  constructor(props) {\n    super(props);\n\n    this.validateForm = values => {\n      const errors = {};\n      const emailRegExp = new RegExp(['^(([^<>()[\\\\]\\\\.,;:\\\\s@\"]+(\\\\.[^<>()\\\\[\\\\]\\\\.,;:\\\\s@\"]+)*)', '|(\".+\"))@((\\\\[[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.', \"[0-9]{1,3}])|(([a-zA-Z\\\\-0-9]+\\\\.)+\", \"[a-zA-Z]{2,}))$\"].join(\"\"));\n\n      if (!values.email) {\n        errors.email = \"Email is required\";\n      } else if (!emailRegExp.test(values.email)) {\n        errors.email = \"Email must be valid\";\n      }\n\n      if (!values.password) {\n        errors.password = \"Password is required\";\n      } else if (values.password.length <= 8) {\n        errors.password = \"Password must be no shorter than 8 symbols\";\n      }\n\n      if (!values.rePassword) {\n        errors.rePassword = \"Re-enter your password\";\n      } else if (values.password !== values.rePassword) {\n        errors.rePassword = \"Passwords don't match\";\n      }\n\n      return errors;\n    };\n\n    this.handleSubmit = e => {\n      console.log(this.state);\n      e.preventDefault();\n      register(this.state.fields.email, this.state.fields.password1, this.state.fields.full_name).then(response => {\n        console.log(response);\n        this.props.history.push('/main/profile');\n      }).catch(console.error);\n    };\n\n    this.setFormField = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState(prevState => ({ ...prevState,\n        fields: { ...prevState.fields,\n          [name]: value\n        }\n      }));\n    };\n\n    this.state = {\n      errorFields: {},\n      fields: {\n        full_name: '',\n        lastName: '',\n        email: '',\n        password1: '',\n        rePassword: ''\n      }\n    };\n  }\n\n  render() {\n    const {\n      fields: {\n        email,\n        password1,\n        rePassword,\n        full_name,\n        lastName\n      },\n      errorFields: {\n        email: emailError,\n        password: passwordError\n      }\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"Register__title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }, \"Create account\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      className: \"Register__form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form__input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      name: \"full_name\",\n      type: \"text\",\n      onChange: this.setFormField,\n      className: \"input\",\n      placeholder: \"First Name\",\n      value: full_name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"form__underline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form__input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      name: \"lastName\",\n      type: \"text\",\n      className: \"input\",\n      onChange: this.setFormField,\n      placeholder: \"Last Name\",\n      value: lastName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"form__underline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form__input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      name: \"email\",\n      type: \"text\",\n      onChange: this.setFormField,\n      className: \"input\",\n      placeholder: \"Email\",\n      value: email,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"form__underline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form__input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      name: \"password1\",\n      type: \"password\",\n      onChange: this.setFormField,\n      placeholder: \"Password\",\n      value: password1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"form__underline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form__input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      name: \"rePassword\",\n      type: \"password\",\n      onChange: this.setFormField,\n      placeholder: \"Repeat password\",\n      value: rePassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"form__underline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }\n    })), this.state.formError && /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text--error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }\n    }, this.state.formError), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"form__button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 7\n      }\n    }, \"create\")));\n  }\n\n}\n\nexport default connect(null, {\n  authorize\n})(Register);","map":{"version":3,"sources":["/Users/aizhansapina/Desktop/Diploma-front/src/components/pages/auth/register/Register.js"],"names":["React","Component","Input","connect","authorize","register","Register","constructor","props","validateForm","values","errors","emailRegExp","RegExp","join","email","test","password","length","rePassword","handleSubmit","e","console","log","state","preventDefault","fields","password1","full_name","then","response","history","push","catch","error","setFormField","name","value","target","setState","prevState","errorFields","lastName","render","emailError","passwordError","formError"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Input from \"../../../shared/input/Input\";\n\nimport { connect } from \"react-redux\";\nimport { authorize } from \"../../../../store/actions/authActions\";\nimport { register } from \"../../../../services/auth\";\nimport \"../../../shared/header/Header-shop.scss\";\n\nimport \"./Register.scss\";\n\nclass Register extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      errorFields: {},\n      fields: {\n        full_name: '',\n        lastName: '',\n        email: '',\n        password1: '',\n        rePassword: '',\n      }\n    };\n  }\n\n  validateForm = values => {\n    const errors = {};\n\n    const emailRegExp = new RegExp(\n      [\n        '^(([^<>()[\\\\]\\\\.,;:\\\\s@\"]+(\\\\.[^<>()\\\\[\\\\]\\\\.,;:\\\\s@\"]+)*)',\n        '|(\".+\"))@((\\\\[[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.',\n        \"[0-9]{1,3}])|(([a-zA-Z\\\\-0-9]+\\\\.)+\",\n        \"[a-zA-Z]{2,}))$\"\n      ].join(\"\")\n    );\n\n    if (!values.email) {\n      errors.email = \"Email is required\";\n    } else if (!emailRegExp.test(values.email)) {\n      errors.email = \"Email must be valid\";\n    }\n\n    if (!values.password) {\n      errors.password = \"Password is required\";\n    } else if (values.password.length <= 8) {\n      errors.password = \"Password must be no shorter than 8 symbols\";\n    }\n\n    if (!values.rePassword) {\n      errors.rePassword = \"Re-enter your password\";\n    } else if (values.password !== values.rePassword) {\n      errors.rePassword = \"Passwords don't match\";\n    }\n\n    return errors;\n  };\n\n  handleSubmit = e => {\n    console.log(this.state)\n    e.preventDefault();\n      register(this.state.fields.email, this.state.fields.password1, this.state.fields.full_name)\n        .then(response => {\n          console.log(response)\n          this.props.history.push('/main/profile');\n        })\n        .catch(console.error)\n  }\n\n  setFormField = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    this.setState(prevState => ({\n      ...prevState,\n      fields: {\n        ...prevState.fields,\n        [name]: value,\n      },\n    }));\n  };\n\n  render() {\n    const {\n      fields: {\n        email, password1, rePassword, full_name, lastName\n      },\n      errorFields: {\n        email: emailError, password: passwordError\n      }\n    } = this.state;\n    return (\n      <div className=\"Register\">\n        <h2 className=\"Register__title\">Create account</h2>\n        <form onSubmit={this.handleSubmit} className=\"Register__form\">\n      <div className=\"form__input\">\n        <Input\n          name=\"full_name\"\n          type=\"text\"\n          onChange={this.setFormField}\n          className=\"input\"\n          placeholder=\"First Name\"\n          value={full_name}\n        />\n        <span class=\"form__underline\"></span>\n      </div>\n      <div className=\"form__input\">\n        <Input\n          name=\"lastName\"\n          type=\"text\"\n          className=\"input\"\n          onChange={this.setFormField}\n          placeholder=\"Last Name\"\n          value={lastName}\n        />\n        <span class=\"form__underline\"></span>\n      </div>\n      <div className=\"form__input\">\n        <Input\n          name=\"email\"\n          type=\"text\"\n          onChange={this.setFormField}\n          className=\"input\"\n          placeholder=\"Email\"\n          value={email}\n        />\n        <span class=\"form__underline\"></span>\n      </div>\n      <div className=\"form__input\">\n        <Input\n          name=\"password1\"\n          type=\"password\"\n          onChange={this.setFormField}\n          placeholder=\"Password\"\n          value={password1}\n        />\n        <span class=\"form__underline\"></span>\n      </div>\n      <div className=\"form__input\">\n        <Input\n          name=\"rePassword\"\n          type=\"password\"\n          onChange={this.setFormField}\n          placeholder=\"Repeat password\"\n          value={rePassword}\n        />\n        <span class=\"form__underline\"></span>\n      </div>\n      {this.state.formError && (\n        <p className=\"text--error\">{this.state.formError}</p>\n      )}\n      <button type=\"submit\" className=\"form__button\">\n        create\n      </button>\n    </form>\n      </div>\n    );\n  }\n}\n\nexport default connect(null, { authorize })(Register);\n"]},"metadata":{},"sourceType":"module"}